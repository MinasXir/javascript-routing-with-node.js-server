<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My App</title>
  </head>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      color: #6b6b6b;
    }
    body {
      width: 100vw;
      background-color: rgb(243, 243, 243);
      font-family: Arial, Helvetica, sans-serif;
    }
    .nav {
      height: 10vh;
      width: 100vw;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .links {
      width: 45vw;
      display: flex;
      justify-content: space-around;
      align-items: center;
    }
    button {
      outline: none;
      border: none;
      background-color: transparent;
      font-size: large;
      padding: 20px;
    }
    .logo {
      margin-left: 5%;
      font-size: smaller;
    }
    .home,
    .about,
    .contact {
      width: 90vw;
      height: 90vh;
      margin: 0 5vw;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    p {
      font-size: 100px;
      background-color: transparent;
      clip-path: polygon(
        20% 0%,
        80% 0%,
        100% 20%,
        100% 80%,
        80% 100%,
        20% 100%,
        0% 80%,
        0% 20%
      );
      padding: 50px;
      border: 1px solid rgb(87, 87, 87);
    }
  </style>
  <script>
    window.onload = () => {
      window.history.replaceState({}, "name", ["/"]);
      const view = document.getElementById("view");
      const activeRoutes = Array.from(document.querySelectorAll("[route]"));

      function navigate(eEvent) {
        const route = eEvent.target.attributes[0].value;
        const routInfo = myFirstRouter.routes.filter((r) => {
          return r.path === route;
        })[0];
        console.log(routInfo);
        if (!routInfo) {
          alert("No content here");
        } else {
          window.history.pushState({}, "name", routInfo.path);
          view.innerHTML = `<div class="${routInfo.class}">${routInfo.teamplate} </div>`;
        }
      }

      activeRoutes.forEach((route) => {
        route.addEventListener("click", navigate, true);
      });
      const Router = function (name, routes) {
        return {
          name: name,
          routes: routes,
        };
      };
      const myFirstRouter = new Router("myFirstRouter", [
        {
          path: "/mywebsite",
          name: "Root",
          class: "home",
          teamplate: home(),
        },
        {
          path: "/about",
          name: "About",
          class: "about",
          teamplate: about(),
        },
        {
          path: "/contact",
          name: "Contact",
          class: "contact",
          teamplate: contact(),
        },
      ]);
      const currentPath = window.location.pathname;
      if (currentPath === "/") {
        view.innerHTML = `<div class="${
          myFirstRouter.routes[0].class
        }">${home()} </div>`;
      }

      function home() {
        return `<p>Home page</p>`;
      }
      function about() {
        return `<p>About page</p>`;
      }
      function contact() {
        return `<p>Contact page</p>`;
      }
    };
  </script>

  <body>
    <div class="nav">
      <div class="logo">
        <h1>Minas Xirakias</h1>
      </div>
      <div class="links">
        <button route="/mywebsite">Home</button>
        <button route="/about">About</button>
        <button route="/contact">Contact</button>
      </div>
    </div>
    <div id="view"></div>
  </body>
</html>
