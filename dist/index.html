<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My App</title>
  </head>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      color: #6b6b6b;
    }
    body {
      width: 100vw;
      font-family: Arial, Helvetica, sans-serif;
      background: linear-gradient(62deg, #ececec, #f5f5f5, #cac9c9, #e9e9e9);
      background-size: cover;
    }

    .nav {
      height: 15vh;
      width: 100vw;
      display: flex;
      justify-content: space-between;
      align-items: center;
      animation: fadein 1s;
    }
    .logo {
      margin-left: 10%;
    }
    .links {
      display: flex;
      align-items: center;
      margin-right: 10%;
    }
    .active::after {
      content: "";
      display: block;
      width: auto;
      height: 3px;
      background-color: teal;
      animation: fadein 1s;
    }

    @keyframes fadein {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    .home,
    .about,
    .contact {
      width: 80vw;
      height: 85vh;
      margin: 0 10vw;
      animation: fadein 1.5s;
    }
    button {
      outline: none;
      border: none;
      background-color: transparent;
      font-size: large;
      padding: 30px;
    }
    button:nth-child(3) {
      padding-right: 0px;
    }
    .home button {
      padding: 10px 10px 10px 10px;
      background-color: transparent;
      border: 3px solid teal;
      box-shadow: 0 2.8px 2.2px rgba(0, 0, 0, 0.034),
        0 6.7px 5.3px rgba(0, 0, 0, 0.048), 0 12.5px 10px rgba(0, 0, 0, 0.06),
        0 22.3px 17.9px rgba(0, 0, 0, 0.072),
        0 41.8px 33.4px rgba(0, 0, 0, 0.086), 0 100px 80px rgba(0, 0, 0, 0.12);
      background-color: transparent;
    }

    .home h2 {
      font-size: 2.5rem;
      margin: 0%;
      padding-top: 15%;
    }
    .home span {
      color: teal;
      font-weight: 600;
    }

    @media only screen and (max-width: 600px) {
    .nav {
      justify-content: space-around;
    }
      button {
      font-size: medium;
      padding: 10px;
    }
    }
</style>

  <body>
    <div class="nav">
      <div class="logo">
        <h3>Minas Xirakias</h3>
      </div>

      <div class="links">
        <button route="/mywebsite" class="active">Home</button>
        <button route="/about">About</button>
        <button route="/contact">Contact</button>
      </div>
    </div>
    <div id="view"></div>
  </body>
    </style>
    <script>
      window.addEventListener("DOMContentLoaded", (event) => {
        //start from home if refresh
        window.history.replaceState({}, "name", ["/mywebsite"]);

        //select app view
        const view = document.getElementById("view");

        //select all buttons
        const activeRoutes = Array.from(
          document.querySelectorAll(".links [route]")
        );

        //Function for navigation
        function navigate(eEvent) {
          const route = eEvent.target.attributes[0].value;
          const routInfo = myFirstRouter.routes.filter((r) => {
            return r.path === route;
          })[0];
          if (!routInfo) {
            alert("No content here");
          } else {
            window.history.pushState({}, "name", routInfo.path);
            view.innerHTML = `<div class="${routInfo.class}">${routInfo.teamplate} </div>`;
          }
          activeRoute(eEvent);
          aboutNav();
        }
        //click event trigers navigation function
        activeRoutes.forEach((route) => {
          route.addEventListener("click", navigate, true);
        });

        //Active color on nav item click
        function activeRoute(eEvent) {
          const buttons = Array.from(document.querySelectorAll("button"));
          buttons.forEach((button) => {
            button.classList.remove("active");
          });
          eEvent.target.className = "active";
        }

        //data constructor
        const Router = function (name, routes) {
          return {
            name: name,
            routes: routes,
          };
        };
        const myFirstRouter = new Router("myFirstRouter", [
          {
            path: "/mywebsite",
            name: "Root",
            class: "home",
            teamplate: home(),
          },
          {
            path: "/about",
            name: "About",
            class: "about",
            teamplate: about(),
          },
          {
            path: "/contact",
            name: "Contact",
            class: "contact",
            teamplate: contact(),
          },
        ]);
        //Home page as starting point
        const currentPath = window.location.pathname;
        if (currentPath === "/mywebsite") {
          view.innerHTML = `<div class="${myFirstRouter.routes[0].class}"> ${myFirstRouter.routes[0].teamplate}</div>`;
        }
        //Static pages
        function home() {
          return `<h2>
                Hi , I'm Minas a UI <span>developer</span> and UX <span>designer</span> <br>based in Amsterdam.
                </h2>
                <br>
                <button route="/about">About me</button>
    
    
                 `;
        }
        function about() {
          return ` about`;
        }
        function contact() {
          return `contact `;
        }
        function aboutNav() {
          const btn = document
            .querySelector(".home button");
            if (btn)
            btn.addEventListener("click", (eEvent) => {
              navigate(eEvent);
                Array.from(
                document.querySelectorAll(".links [route]")
              )[1].classList.add('active');
            });
        }
        aboutNav();
      });
    </script>
</html>
